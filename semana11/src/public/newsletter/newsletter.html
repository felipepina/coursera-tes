<div class="newletterform">
    <fieldset>
        <legend>Newsletter sign up</legend>
        <form name='regForm' novalidate>
            <div class="form-group has-feedback" ng-class="{'has-error': regForm.firstname.$invalid && regForm.firstname.$touched, 'has-success': !regForm.firstname.$invalid}">
                <input type="text" name="firstname" class="form-control" placeholder="First name" ng-model="newsletterCtrl.user.firstname" required/>
                <span ng-if="regForm.firstname.$error.required && regForm.firstname.$touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span ng-if="!regForm.firstname.$error.required && regForm.firstname.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
            </div>
            <div class="form-group has-feedback" ng-class="{'has-error': regForm.lastname.$invalid && regForm.lastname.$touched, 'has-success': !regForm.lastname.$invalid}">
                <input type="text" name="lastname" class="form-control" placeholder="Last name" ng-model="newsletterCtrl.user.lastname" required />
                <span ng-if="regForm.lastname.$error.required && regForm.lastname.$touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span ng-if="!regForm.lastname.$error.required && regForm.lastname.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
            </div>
            <div class="form-group has-feedback" ng-class="{'has-error': regForm.email.$invalid && regForm.email.$touched, 'has-success': !regForm.email.$invalid}">
                <input type="email" name="email" class="form-control" placeholder="Email" ng-model="newsletterCtrl.user.email" required />
                <span ng-if="regForm.email.$invalid && regForm.email.$touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span ng-if="!regForm.email.$invalid && regForm.email.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
            </div>
            <div class="form-group has-feedback" ng-class="{'has-error': regForm.phone.$invalid && regForm.phone.$touched, 'has-success': !regForm.phone.$invalid}">
                <input type="text" name="phone" class="form-control" placeholder="Phone ###-###-####" ng-model="newsletterCtrl.user.phone" pattern="(\d{3})-(\d{3})-(\d{4})" required />
                <span ng-if="regForm.phone.$invalid && regForm.phone.$touched" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span ng-if="!regForm.phone.$invalid && regForm.phone.$touched" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
            </div>
            <div class="form-group">
                <input type="text" name="favdish" class="form-control" placeholder="Favorite dish menu number" ng-model="newsletterCtrl.user.favdish" ng-change="newsletterCtrl.user.favdish = (newsletterCtrl.user.favdish | uppercase)" required />
            </div>
            <button class="btn btn-default" ng-disabled="regForm.$invalid" ng-click="newsletterCtrl.submit()">Submit</button>
            <br>
            <div ng-if="newsletterCtrl.msg"  ng-class="{'alert-danger': !newsletterCtrl.saved, 'alert-success': newsletterCtrl.saved}" class="alert alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                {{ newsletterCtrl.msg }}
            </div>
        </form>
    </fieldset>
</div>
